
# 목차
- [목차](#목차)
- [Service](#service)
  - [기본 구조](#기본-구조)
- [Controller](#controller)
  - [기본 구조](#기본-구조-1)
  - [API 공통 응답](#api-공통-응답)
  - [Controller 관련 어노테이션](#controller-관련-어노테이션)
    - [컨트롤러임을 명시](#컨트롤러임을-명시)
    - [API method 명시](#api-method-명시)
    - [request 관련 어노테이션](#request-관련-어노테이션)
  - [ControllerAdvice를 활용한 Exception Handlering](#controlleradvice를-활용한-exception-handlering)

# Service
## 기본 구조
```java
@RequiredArgsConstructor
@Service
public class SomeSevice{
  private final SomeRepository someRepository;

  @Transection
  public SomeDto save(SomeSaveRequestDto requestDto){
    SomeEntity saveEntity = SomeEntity.builder().build();
    return SomeDto.of(someRepository.save(saveEntity));
  }
  
  
  @Transection(readOnly=ture)
  public SomeDto find(Long id){
    return SomeDto.of(someRepository.findById(id));
  }
 
}

```

# Controller
## 기본 구조
```java

@RequestMapping("/api")
@RequiredArgsConstructor
@RestController
public class SomeController{
  private final SomeService someService;

  @PostMapping
  public SomeSaveResponseDto save(@RequestBody SomeSaveRequestDto reqestDto){
    return SomeSaveResponseDto.of(someService.save(requestDto));
  }

  @GetMapping("/{id}")
  public SomeGetResponseDto find(@PathVariable("id") Long id){
    return SomeGetResponseDto.of(someService.find(id));
  }

  @PutMapping


  @DeleteMapping

}

```

## API 공통 응답
- 프론트 부분 응답 통일을 위해 구현

```java


```


## Controller 관련 어노테이션
### 컨트롤러임을 명시
- @Controller
- @ResposeBody
- @RestController

### API method 명시
- @RequestMapping
- @PostMapping
- @GetMapping
- @PutMapping
- @DeleteMapping

### request 관련 어노테이션
- @RequestBody
  - reuqest body json을 객체로 변환
- @RequestParam
  - 쿼리파라미터값을 받는 어노테이션
  - 쿼리파라미터는 웹서버 로그나 브라우저 히스토리 캐시에 저장될 가능성이 있다. 
  - 노출되지 않길 바라는 정보는 쿼리파라미터가 아닌 request body를 이용해 요청을 보내는게 안전하다.
- @PathVariable
  - url상 path variable을 받는 어노테이션
- @RequestPart
  - 파일,이미지는 request에 content-type이 multipart/form-data로 온다

## ControllerAdvice를 활용한 Exception Handlering