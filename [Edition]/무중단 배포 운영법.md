# 로드 밸런싱
- 트래픽을 처리할 서버를 할당하는 소프트웨어 
- 사용 목적
  - 트래픽 분산(scale out)
  - 무중단 배포

![로드밸런서](./image/load_balancer.png)

# 무중단 배포
- 소프트웨어 업데이트로 인해 서비스가 중단되는 경험을 막는 배포 방식

## 롤링 배포
- 서비스 중인 서버 하나를 로드밸런서와 연결을 끊고 새 버전으로 배포, 다시 연결하고를 하나씩 반복하는 방식
- 단점
  - 배포중 구버전과 신버전이 공존
  - 트래픽 처리 가용 서버가 하나 줄어든다

![](./image/%EB%A1%A4%EB%A7%81%EB%B0%B0%ED%8F%AC.PNG)

## 블루 그린 배포
- 구 버전을 뜻하는 블루, 신 버전을 뜻하는 그린
- 구버전과 동일한 서버 시스템 환경을 신버전으로 구축해 둔후 로드 밸런서를 붙이는 방식
- 장점
  - 배포전에 기존 해오던 환경과 같은 환경에서 운영 테스트 가능
- 단점
  - 시스템 자원을 2배로 필요로 한다

![](./image/%EB%B8%94%EB%A3%A8%EA%B7%B8%EB%A6%B0%EB%B0%B0%ED%8F%AC.PNG)

## 카나리 배포
- 광부들이 유독가스를 맡는데 사용한 카나리아 새에서 유래
- 블루 그린 방식과 유사하나 로드밸런싱을 신버전으로 한번에 옮기는 방식이 아니라 유저 일부만 이동시킨다.
- 장점
  - 버전에 따른 사용자 반응 비교가 가능하다

![](./image/%EC%B9%B4%EB%82%98%EB%A6%AC%EB%B0%B0%ED%8F%AC.PNG)


# nginx

## 설치, 설정, 실행

## nginx를 활용한 블루그린배포


# reference
- 이미지 출처: 무료 아이콘 사이트에서 다운 받아 ppt로 편집
  - https://icon-icons.com/ko/
- 삼성sds 인사이트: 무중단 배포 아키텍처
  - https://www.samsungsds.com/kr/insights/1256264_4627.html
  